{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/components/ui/separator.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Separator = React.forwardRef((\r\n  { className, orientation = \"horizontal\", decorative = true, ...props },\r\n  ref\r\n) => (\r\n  <SeparatorPrimitive.Root\r\n    ref={ref}\r\n    decorative={decorative}\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"shrink-0 bg-border\",\r\n      orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n      className\r\n    )}\r\n    {...props} />\r\n))\r\nSeparator.displayName = SeparatorPrimitive.Root.displayName\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;AAEA;AAGA;AAFA;AAHA;;;;;AAOA,MAAM,0BAAY,sMAAM,UAAU,CAAC,CACjC,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,8OAAC,sKAAmB,IAAI;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;AAEb,UAAU,WAAW,GAAG,sKAAmB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/components/LeftSideBar.jsx"],"sourcesContent":["\"use client\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { logout } from \"@/service/auth.service\";\r\nimport useSidebarStore from \"@/store/sidebarStore\";\r\nimport userStore from \"@/store/userStore\";\r\nimport {\r\n  Bell,\r\n  Home,\r\n  LogOut,\r\n  MessageCircle,\r\n  User,\r\n  Users,\r\n  Video,\r\n} from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport React from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst LeftSideBar = () => {\r\n  const { isSidebarOpen, toggleSidebar } = useSidebarStore();\r\n  const router = useRouter();\r\n  const { user, clearUser } = userStore();\r\n\r\n  const userPlaceholder = user?.username\r\n    ?.split(\" \")\r\n    .map((name) => name[0])\r\n    .join(\"\");\r\n  const handleNavigation = (path, item) => {\r\n    router.push(path);\r\n    if (isSidebarOpen) {\r\n      toggleSidebar();\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const result = await logout();\r\n      if (result?.status == \"success\") {\r\n        router.push(\"/user-login\");\r\n        clearUser();\r\n      }\r\n      toast.success(\"user logged out successfully\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(\"failed to log out\");\r\n    }\r\n  };\r\n  return (\r\n    <aside\r\n      className={`bg-background-header dark:bg-[rgb(2,1,12)] text-foreground fixed top-16 left-0 h-full w-72 p-4 transform transition-transform duration-200 ease-in-out md:translate-x-0 flex flex-col z-50 md:z-0 ${\r\n        isSidebarOpen\r\n          ? \"translate-x-0 bg-background-header dark:bg-[rgb(36,37,38)] shadow-lg \"\r\n          : \" -translate-x-full\"\r\n      } ${isSidebarOpen ? \"md:hidden\" : \"\"} md:bg md:shadow-none`}\r\n    >\r\n\r\n      <div className=\"flex flex-col h-full overflow-y-auto\">\r\n        {/* navigation menu yaha pr */}\r\n        <nav className=\"space-y-4 flex-grow\">\r\n          <div className=\"flex items-center space-x-2 cursor-pointer \"    onClick={() => handleNavigation(`/user-profile/${user?._id}`)}>\r\n            <Avatar className=\"h-10 w-10\">\r\n              {user?.profilePicture ? (\r\n                <AvatarImage src={user?.profilePicture} alt={user?.username} />\r\n              ) : (\r\n                <AvatarFallback className=\"dark:bg-gray-400\">\r\n                  {userPlaceholder}\r\n                </AvatarFallback>\r\n              )}\r\n            </Avatar>\r\n            <span className=\"font-semibold\">{user?.username}</span>\r\n          </div>\r\n          <Button\r\n            variant=\"ghost\"\r\n            className=\"w-full full justify-start\"\r\n            onClick={() => handleNavigation(\"/\")}\r\n          >\r\n            <Home className=\"mr-4\" /> Home\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            className=\"w-full full justify-start\"\r\n            onClick={() => handleNavigation(\"/friends-list\")}\r\n          >\r\n            <Users className=\"mr-4\" /> Add Connections\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            className=\"w-full full justify-start\"\r\n            onClick={() => handleNavigation(`/user-profile/${user?._id}`)}\r\n          >\r\n            <User className=\"mr-4\" /> Profile\r\n          </Button>\r\n          \r\n        </nav>\r\n\r\n        {/* footer section */}\r\n\r\n        <div className=\"mb-16\">\r\n          <Separator className=\"my-4\" />\r\n          <div className=\"flex items-center space-x-2 mb-4 cursor-pointer \"    onClick={() => handleNavigation(`/user-profile/${user?._id}`)}>\r\n            <Avatar className=\"h-10 w-10\">\r\n              {user?.profilePicture ? (\r\n                <AvatarImage src={user?.profilePicture} alt={user?.username} />\r\n              ) : (\r\n                <AvatarFallback className=\"dark:bg-gray-400\">\r\n                  {userPlaceholder}\r\n                </AvatarFallback>\r\n              )}\r\n            </Avatar>\r\n            <span className=\"font-semibold\">{user?.username}</span>\r\n          </div>\r\n\r\n          <div className=\"text-xs text-muted-foreground space-y-1\">\r\n          <Button variant=\"ghost\" className=\"cursor-pointer -ml-4 \" onClick={handleLogout} >\r\n            <LogOut className=\"text-red-500\" strokeWidth={3}/> <span className=\"ml-2 font-bold text-md text-red-500\">Logout</span>\r\n          </Button>\r\n            <p>Privacy | Terms </p>\r\n            <p>Clear Horizons Â© 2025</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default LeftSideBar;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"rounded-xl border bg-card text-card-foreground shadow\", className)}\r\n    {...props} />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props} />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\r\n    {...props} />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props} />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props} />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtD,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,yDAAyD;QACtE,GAAG,KAAK;;;;;;AAEb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAEb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACjE,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC7D,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/components/RightSideBar.jsx"],"sourcesContent":["\"use client\"\r\nimport React, { useState } from 'react'\r\nimport { motion } from 'framer-motion';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { ExternalLink, TrendingUp } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\n\r\nconst RightSideBar = () => {\r\n    const [showAllSponsers,setShowAllSponsers]= useState(false)\r\n\r\n    const sponsors = [\r\n        {\r\n            name: \"Our Motive\",\r\n            description: \"Clear Horizons bridges the gap between visually impaired individuals and meaningful employment. We create direct communication channels with employers, fostering inclusivity, equality, and independence for all.\",\r\n            image: \"https://thumbs.dreamstime.com/b/blind-man-sitting-city-park-resting-hispanic-latino-people-disability-handicapped-person-everyday-life-visually-94889915.jpg\",\r\n            website: \"https://www.dreamstime.com/photos-images/blind-man-sitting.html\",\r\n        },\r\n        {\r\n            name: \"People Matter\",\r\n            description: \"Discrimination in job interviews based on gender, pedigree, or age is a common, frustrating issue, and innovative changes like blind auditions can help focus on actual skills.\",\r\n            image: \"https://res.cloudinary.com/people-matters/image/upload/fl_immutable_cache,w_624,h_351,q_auto,f_auto/v1528059805/1528059673.jpg\",\r\n            website: \"https://www.peoplematters.in/article/recruitment/blind-auditions-interrupting-biases-in-recruitment-18429\",\r\n        },\r\n        {\r\n            name: \"ibvi\",\r\n            description: \"Job hunting is especially challenging for disabled professionals, but leveraging various career resources can ease and enhance the job search for blind and visually impaired individuals.\",\r\n            image: \"https://ibvi.org/wp-content/uploads/2024/01/IBVI_Blog_ResourcesForBlindJobSeekers_1920x820.jpg\",\r\n            website: \"https://ibvi.org/blog/resources-for-blind-visually-impaired-job-seekers/\",\r\n        },\r\n        {\r\n            name: \"Future Propositions\",\r\n            description: \"Clear Horizons envisions a Skill-Up Program for blind individuals, offering advanced training, certifications, and building a community network to enhance employability and ensure exponential mission impact.\",\r\n            image: \"https://thumbs.dreamstime.com/b/concept-blind-people-disabilities-silhouette-man-cane-his-hand-stands-river-reflection-111327394.jpg\",\r\n            website: \"https://www.dreamstime.com/concept-blind-people-disabilities-silhouette-man-cane-his-hand-stands-river-reflection-image111327394\",\r\n        },\r\n\r\n    ];\r\n\r\n      const displaySponsers = showAllSponsers ? sponsors : sponsors.slice(0,3)\r\n  return (\r\n    <motion.aside \r\n      initial={{opacity: 0, x:50}}\r\n      animate={{opacity: 1,x:0}}\r\n      transition={{duration:0.5}}\r\n      className='space-y-4'\r\n    >\r\n\r\n        <Card>\r\n            <CardHeader>\r\n                <CardTitle className=\"flex text-lg font-semibold items-center\">\r\n                    <TrendingUp className='mr-2 h-5 w-5 text-primary'/>\r\n                    Trending\r\n                </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n                <ul className='space-y-4'>\r\n                    {displaySponsers.map((sponser,index)=>(\r\n                         <motion.li\r\n                          key={sponser.name}\r\n                          initial={{opacity: 0, y:20}}\r\n                          animate={{opacity: 1,y:0}}\r\n                          transition={{ delay: index * 0.1}}\r\n                          className='flex flex-col items-center space-x-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200'\r\n                         >\r\n                            <img\r\n                             src={sponser.image}\r\n                             alt={sponser.name}\r\n                             className='w-50 h-40 object-contain rounded-md'\r\n                            />\r\n                             <div className='flex-1 '>\r\n                                <h3 className='text-md font-semibold '>{sponser.name}</h3>\r\n                                <p className='text-sm text-gray-600 dark:text-gray-400'>{sponser.description}</p>\r\n                                <a\r\n                                  href={sponser.website}\r\n                                  target=\"_blank\"\r\n                                  className='text-primary text-sm flex items-center mt-1 hover:underline'\r\n                                >\r\n                                 Visit Website <ExternalLink className='ml-1 h-4 w-4'/>\r\n                                </a>\r\n                             </div>\r\n\r\n                         </motion.li>\r\n                    ))}\r\n                </ul>\r\n                {sponsors.length>3 && (\r\n                    <Button\r\n                     variant='outline'\r\n                     className=\"w-full mt-4 dark:text-white\"\r\n                     onClick={() => setShowAllSponsers(!showAllSponsers)}\r\n                    > \r\n                    {showAllSponsers ? \"Show Less\" : \"Show More\"}\r\n\r\n                    </Button>\r\n                )}\r\n            </CardContent>\r\n        </Card>\r\n\r\n    </motion.aside>\r\n  )\r\n}\r\n\r\nexport default RightSideBar"],"names":[],"mappings":";;;;AACA;AAEA;AAEA;AAHA;AAEA;AAAA;AAJA;;;;;;;AAQA,MAAM,eAAe;IACjB,MAAM,CAAC,iBAAgB,mBAAmB,GAAE,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,MAAM,WAAW;QACb;YACI,MAAM;YACN,aAAa;YACb,OAAO;YACP,SAAS;QACb;QACA;YACI,MAAM;YACN,aAAa;YACb,OAAO;YACP,SAAS;QACb;QACA;YACI,MAAM;YACN,aAAa;YACb,OAAO;YACP,SAAS;QACb;QACA;YACI,MAAM;YACN,aAAa;YACb,OAAO;YACP,SAAS;QACb;KAEH;IAEC,MAAM,kBAAkB,kBAAkB,WAAW,SAAS,KAAK,CAAC,GAAE;IAC1E,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,KAAK;QACX,SAAS;YAAC,SAAS;YAAG,GAAE;QAAE;QAC1B,SAAS;YAAC,SAAS;YAAE,GAAE;QAAC;QACxB,YAAY;YAAC,UAAS;QAAG;QACzB,WAAU;kBAGR,cAAA,8OAAC,gIAAA,CAAA,OAAI;;8BACD,8OAAC,gIAAA,CAAA,aAAU;8BACP,cAAA,8OAAC,gIAAA,CAAA,YAAS;wBAAC,WAAU;;0CACjB,8OAAC,kNAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;4BAA6B;;;;;;;;;;;;8BAI3D,8OAAC,gIAAA,CAAA,cAAW;;sCACR,8OAAC;4BAAG,WAAU;sCACT,gBAAgB,GAAG,CAAC,CAAC,SAAQ,sBACzB,8OAAC,0LAAA,CAAA,SAAM,CAAC,EAAE;oCAET,SAAS;wCAAC,SAAS;wCAAG,GAAE;oCAAE;oCAC1B,SAAS;wCAAC,SAAS;wCAAE,GAAE;oCAAC;oCACxB,YAAY;wCAAE,OAAO,QAAQ;oCAAG;oCAChC,WAAU;;sDAER,8OAAC;4CACA,KAAK,QAAQ,KAAK;4CAClB,KAAK,QAAQ,IAAI;4CACjB,WAAU;;;;;;sDAEV,8OAAC;4CAAI,WAAU;;8DACZ,8OAAC;oDAAG,WAAU;8DAA0B,QAAQ,IAAI;;;;;;8DACpD,8OAAC;oDAAE,WAAU;8DAA4C,QAAQ,WAAW;;;;;;8DAC5E,8OAAC;oDACC,MAAM,QAAQ,OAAO;oDACrB,QAAO;oDACP,WAAU;;wDACX;sEACc,8OAAC,sNAAA,CAAA,eAAY;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;mCAnBxC,QAAQ,IAAI;;;;;;;;;;wBA0B1B,SAAS,MAAM,GAAC,mBACb,8OAAC,kIAAA,CAAA,SAAM;4BACN,SAAQ;4BACR,WAAU;4BACV,SAAS,IAAM,mBAAmB,CAAC;sCAEnC,kBAAkB,cAAc;;;;;;;;;;;;;;;;;;;;;;;AASrD;uCAEe"}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 610, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/service/post.service.js"],"sourcesContent":["import axiosInstance from \"./url.service\"\r\n\r\n\r\n//create method for posts\r\nexport const createPost = async(postData) =>{\r\n    try {\r\n         const result = await  axiosInstance.post('/users/posts', postData)\r\n         return result?.data?.data;\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error;\r\n    }\r\n}\r\n\r\n//create method for story\r\nexport const createStory = async(postData) =>{\r\n    try {\r\n         const result = await  axiosInstance.post('/users/story', postData)\r\n         return result?.data?.data;\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error;\r\n    }\r\n}\r\n\r\n//get all post method \r\nexport const getAllPosts = async() =>{\r\n    try {\r\n         const result = await  axiosInstance.get('/users/posts')\r\n         return result?.data?.data;\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error;\r\n    }\r\n}\r\n\r\n//get all story method \r\nexport const getAllStory = async() =>{\r\n    try {\r\n         const result = await  axiosInstance.get('/users/story')\r\n         return result?.data?.data;\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error;\r\n    }\r\n}\r\n\r\n\r\n\r\n//method for like a post\r\nexport const likePost = async(postId) =>{\r\n    try {\r\n         const result = await  axiosInstance.post(`/users/posts/likes/${postId}`)\r\n         return result?.data?.data;\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error;\r\n    }\r\n}\r\n\r\n\r\n//method for comments a post\r\nexport const commentsPost = async(postId,comment) =>{\r\n    try {\r\n         const result = await  axiosInstance.post(`/users/posts/comments/${postId}`,comment)\r\n         return result?.data?.data;\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error;\r\n    }\r\n}\r\n\r\n//method for share a post\r\nexport const sharePost = async(postId) =>{\r\n    try {\r\n         const result = await  axiosInstance.post(`/users/posts/share/${postId}`)\r\n         return result?.data?.data;\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error;\r\n    }\r\n}\r\n\r\n\r\n//get all users posts \r\nexport const getAllUserPosts = async(userId)=>{\r\n    try {\r\n        const result = await axiosInstance.get(`/users/posts/user/${userId}`)\r\n        return result?.data?.data;\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error;\r\n    }\r\n}"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAIO,MAAM,aAAa,OAAM;IAC5B,IAAI;QACC,MAAM,SAAS,MAAO,gIAAA,CAAA,UAAa,CAAC,IAAI,CAAC,gBAAgB;QACzD,OAAO,QAAQ,MAAM;IAC1B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,MAAM;IACV;AACJ;AAGO,MAAM,cAAc,OAAM;IAC7B,IAAI;QACC,MAAM,SAAS,MAAO,gIAAA,CAAA,UAAa,CAAC,IAAI,CAAC,gBAAgB;QACzD,OAAO,QAAQ,MAAM;IAC1B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,MAAM;IACV;AACJ;AAGO,MAAM,cAAc;IACvB,IAAI;QACC,MAAM,SAAS,MAAO,gIAAA,CAAA,UAAa,CAAC,GAAG,CAAC;QACxC,OAAO,QAAQ,MAAM;IAC1B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,MAAM;IACV;AACJ;AAGO,MAAM,cAAc;IACvB,IAAI;QACC,MAAM,SAAS,MAAO,gIAAA,CAAA,UAAa,CAAC,GAAG,CAAC;QACxC,OAAO,QAAQ,MAAM;IAC1B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,MAAM;IACV;AACJ;AAKO,MAAM,WAAW,OAAM;IAC1B,IAAI;QACC,MAAM,SAAS,MAAO,gIAAA,CAAA,UAAa,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,QAAQ;QACvE,OAAO,QAAQ,MAAM;IAC1B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,MAAM;IACV;AACJ;AAIO,MAAM,eAAe,OAAM,QAAO;IACrC,IAAI;QACC,MAAM,SAAS,MAAO,gIAAA,CAAA,UAAa,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,QAAQ,EAAC;QAC3E,OAAO,QAAQ,MAAM;IAC1B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,MAAM;IACV;AACJ;AAGO,MAAM,YAAY,OAAM;IAC3B,IAAI;QACC,MAAM,SAAS,MAAO,gIAAA,CAAA,UAAa,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,QAAQ;QACvE,OAAO,QAAQ,MAAM;IAC1B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,MAAM;IACV;AACJ;AAIO,MAAM,kBAAkB,OAAM;IACjC,IAAI;QACA,MAAM,SAAS,MAAM,gIAAA,CAAA,UAAa,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,QAAQ;QACpE,OAAO,QAAQ,MAAM;IACzB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,MAAM;IACV;AACJ"}},
    {"offset": {"line": 694, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 700, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/store/usePostStore.js"],"sourcesContent":["import {\r\n    createPost,\r\n    getAllPosts,\r\n    getAllStory,\r\n    getAllUserPosts,\r\n    likePost,\r\n    sharePost,\r\n    createStory,\r\n    commentsPost\r\n  } from \"@/service/post.service\";\r\n  import toast from \"react-hot-toast\";\r\n  import { create } from \"zustand\";\r\n  \r\n  export const usePostStore = create((set) => ({\r\n    posts: [],\r\n    userPosts: [],\r\n    story: [],\r\n    loading: false,\r\n    error: null,\r\n  \r\n    //fetchPost\r\n    fetchPost: async () => {\r\n      set({ loading: true });\r\n      try {\r\n        const posts = await getAllPosts();\r\n        set({ posts, loading: false });\r\n      } catch (error) {\r\n        set({ error, loading: false });\r\n      }\r\n    },\r\n  \r\n    //fetch user posts\r\n    fetchUserPost: async (userId) => {\r\n      set({ loading: true });\r\n      try {\r\n        const userPosts = await getAllUserPosts(userId);\r\n        set({ userPosts, loading: false });\r\n      } catch (error) {\r\n        set({ error, loading: false });\r\n      }\r\n    },\r\n    //fetch all story\r\n    fetchStoryPost: async () => {\r\n      set({ loading: true });\r\n      try {\r\n        const story = await getAllStory();\r\n        set({ story, loading: false });\r\n      } catch (error) {\r\n        set({ error, loading: false });\r\n      }\r\n    },\r\n  \r\n    //create a new post\r\n    handleCreatePost: async (postData) => {\r\n      set({ loading: true });\r\n      try {\r\n        const newPost = await createPost(postData);\r\n        set((state) => ({\r\n          posts: [newPost, ...state.posts],\r\n          loading: false,\r\n        }));\r\n        toast.success(\"Post created successfully\");\r\n      } catch (error) {\r\n        set({ error, loading: false });\r\n        toast.error(\"failed to create a post\");\r\n      }\r\n    },\r\n  \r\n    //create a new story\r\n    handleCreateStory: async (storyData) => {\r\n      set({ loading: true });\r\n      try {\r\n        const newStory = await createStory(storyData);\r\n        set((state) => ({\r\n          story: [newStory, ...state.story],\r\n          loading: false,\r\n        }));\r\n        toast.success(\"Story created successfully\");\r\n      } catch (error) {\r\n        set({ error, loading: false });\r\n        toast.error(\"failed to create a story\");\r\n      }\r\n    },\r\n  \r\n    //create a new story\r\n    handleLikePost: async (postId) => {\r\n      set({ loading: true });\r\n      try {\r\n         await likePost(postId);\r\n      } catch (error) {\r\n        set({ error, loading: false });\r\n      }\r\n    },\r\n  \r\n    //create a new story\r\n    handleCommentPost: async (postId,text) => {\r\n      set({ loading: true });\r\n      try {\r\n        const newComments = await commentsPost(postId, {text});\r\n         set((state) =>({\r\n           posts: state.posts.map((post) => \r\n              post?._id === postId\r\n               ? {...post,comments: [...post.comments, newComments]}\r\n               :post\r\n          ),\r\n         }))\r\n        toast.success(\"Comments added successfully\");\r\n      } catch (error) {\r\n        set({ error, loading: false });\r\n        toast.error(\"failed to add comments\");\r\n      }\r\n    },\r\n  \r\n  \r\n    //create a new story\r\n    handleSharePost: async (postId) => {\r\n      set({ loading: true });\r\n      try {\r\n         await sharePost(postId);\r\n         toast.success(\"post share successfully\");\r\n      } catch (error) {\r\n        set({ error, loading: false });\r\n        toast.error('failed to share this post')\r\n      }\r\n    },\r\n  }));"],"names":[],"mappings":"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"}},
    {"offset": {"line": 873, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 879, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/story/ShowStoryPreview.jsx"],"sourcesContent":["import { Avatar, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { AvatarFallback } from \"@radix-ui/react-avatar\";\r\nimport { X } from \"lucide-react\";\r\nimport React from \"react\";\r\n\r\nconst ShowStoryPreview = ({\r\n  file,\r\n  fileType,\r\n  onClose,\r\n  onPost,\r\n  isNewStory,\r\n  username,\r\n  avatar,\r\n  isLoading,\r\n}) => {\r\n  const userPlaceholder = username?.split(\" \").map((name) => name[0]).join(\"\");\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\">\r\n      <div className=\"relative w-full max-w-md h-[90vh] flex flex-col  bg-white dark:bg-gray-800 rounded-lg overflow-hidden\">\r\n        <Button\r\n          className=\"absolute top-4 right-4 z-10 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700\"\r\n          variant=\"ghost\"\r\n          onClick={onClose}\r\n        >\r\n          <X className=\"h-6 w-6\" />\r\n        </Button>\r\n        <div className=\"absolute top-4 left-4 z-10 flex items-center \">\r\n          <Avatar className=\"w-10 h-10 mr-2\">\r\n            {avatar ? (\r\n              <AvatarImage src={avatar} alt={username} />\r\n            ) : (\r\n              <AvatarFallback>{userPlaceholder}</AvatarFallback>\r\n            )}\r\n          </Avatar>\r\n          <span className=\"text-gray-700 dark:text-gray-200 font-semibold\">\r\n            {username}\r\n          </span>\r\n        </div>\r\n        <div className=\"flex-grow flex items-center justify-center bg-gray-100 dark:bg-gray-900\">\r\n          {fileType === \"image\" ? (\r\n            <img\r\n              src={file}\r\n              alt=\"story_preview\"\r\n              className=\"max-w-full max-h-full object-contain\"\r\n            />\r\n          ) : (\r\n            <video\r\n              src={file}\r\n              controls\r\n              autoPlay\r\n              className=\"max-w-full max-h-full object-contain\"\r\n            />\r\n          )}\r\n        </div>\r\n        {isNewStory && (\r\n            <div className=\"absolute bottom-4 right-2 transform -translate-x-1/2\">\r\n                <Button onClick={onPost} className=\"bg-blue-500 hover:bg-orange-500 text-white\">{isLoading ? \"Saving...\" : \"Share\"}</Button>\r\n                </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowStoryPreview;"],"names":[],"mappings":";;;;AAAA;AACA;AAGA;AADA;AADA;;;;;;;AAIA,MAAM,mBAAmB,CAAC,EACxB,IAAI,EACJ,QAAQ,EACR,OAAO,EACP,MAAM,EACN,UAAU,EACV,QAAQ,EACR,MAAM,EACN,SAAS,EACV;IACC,MAAM,kBAAkB,UAAU,MAAM,KAAK,IAAI,CAAC,OAAS,IAAI,CAAC,EAAE,EAAE,KAAK;IACzE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,kIAAA,CAAA,SAAM;oBACL,WAAU;oBACV,SAAQ;oBACR,SAAS;8BAET,cAAA,8OAAC,4LAAA,CAAA,IAAC;wBAAC,WAAU;;;;;;;;;;;8BAEf,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,kIAAA,CAAA,SAAM;4BAAC,WAAU;sCACf,uBACC,8OAAC,kIAAA,CAAA,cAAW;gCAAC,KAAK;gCAAQ,KAAK;;;;;qDAE/B,8OAAC,kKAAA,CAAA,iBAAc;0CAAE;;;;;;;;;;;sCAGrB,8OAAC;4BAAK,WAAU;sCACb;;;;;;;;;;;;8BAGL,8OAAC;oBAAI,WAAU;8BACZ,aAAa,wBACZ,8OAAC;wBACC,KAAK;wBACL,KAAI;wBACJ,WAAU;;;;;6CAGZ,8OAAC;wBACC,KAAK;wBACL,QAAQ;wBACR,QAAQ;wBACR,WAAU;;;;;;;;;;;gBAIf,4BACG,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC,kIAAA,CAAA,SAAM;wBAAC,SAAS;wBAAQ,WAAU;kCAA8C,YAAY,cAAc;;;;;;;;;;;;;;;;;;;;;;AAM3H;uCAEe"}},
    {"offset": {"line": 1009, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1015, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/story/StoryCard.jsx"],"sourcesContent":["\"use client\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { usePostStore } from \"@/store/usePostStore\";\r\nimport userStore from \"@/store/userStore\";\r\nimport { Plus } from \"lucide-react\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport ShowStoryPreview from \"./ShowStoryPreview\";\r\n\r\nconst StoryCard = ({ isAddStory, story }) => {\r\n  const { user } = userStore();\r\n  const [filePreview, setFilePreview] = useState(null);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [fileType, setFileType] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const { handleCreateStory } = usePostStore();\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [isNewStory, setIsNewStory] = useState(false);\r\n\r\n  const fileInputRef= useRef(null)\r\n\r\n  const userPlaceholder = story?.user?.username\r\n    ?.split(\" \")\r\n    .map((name) => name[0])\r\n    .join(\"\");\r\n\r\n\r\n  const handleFileChnage = (e) => {\r\n    const file = e.target.files[0];\r\n    if(file){\r\n      setSelectedFile(file), \r\n      setFileType(file.type.startsWith(\"video\") ?\"video\" : \"image\");\r\n      setFilePreview(URL.createObjectURL(file));\r\n      setIsNewStory(true)\r\n      setShowPreview(true)\r\n    }\r\n    e.target.value= '';\r\n  };\r\n\r\n\r\n  const handleCreateStoryPost = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      if (selectedFile) {\r\n        formData.append(\"media\", selectedFile);\r\n      }\r\n      await handleCreateStory(formData);\r\n        resetStoryState()\r\n      \r\n    } catch (error) {\r\n      console.error(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  const handleClosePreview = () =>{\r\n       resetStoryState()\r\n  }\r\n\r\n  const resetStoryState = ()=>{\r\n         setShowPreview(false);\r\n         setSelectedFile(null);\r\n         setFilePreview(null);\r\n         setFileType(null)\r\n         setIsNewStory(false)\r\n  }\r\n\r\n  const handleStoryClick = () =>{\r\n     setFilePreview(story?.mediaUrl)\r\n     setFileType(story?.mediaType)\r\n     setIsNewStory(false)\r\n     setShowPreview(true)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        className=\"w-40 h-60 relative overflow-hidden group cursor-pointer rounded-xl\"\r\n        onClick={isAddStory ? undefined : handleStoryClick}\r\n      >\r\n        <CardContent className=\"p-0 h-full\">\r\n          {isAddStory ? (\r\n            <div className=\"w-full h-full flex flex-col\">\r\n              <div className=\"h-3/4 w-full relative border-b\">\r\n                <Avatar className=\"w-full h-full rounded-none\">\r\n                 {user?.profilePicture ? (\r\n                    <AvatarImage\r\n                      src={user?.profilePicture}\r\n                      alt={user?.username}\r\n                      className=\"object-cover\"\r\n                    />\r\n                  ) : (\r\n                    <p className=\"w-full h-full flex justify-center items-center text-4xl\">{userPlaceholder}</p>\r\n                  )}\r\n                </Avatar>\r\n              </div>\r\n              <div className=\"h-1/4 w-full bg-green-50 dark:bg-gray-800 flex flex-col items-center justify-center\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  className=\"p-0 h-8 w-8 rounded-full bg-blue-500 hover:bg-blue-600 \"\r\n                  onClick={() => fileInputRef.current.click()}\r\n                >\r\n                  <Plus className=\"h-5 w-5 text-white\" />\r\n                </Button>\r\n                <p className=\"text-xs font-semibold mt-1\">Create Story</p>\r\n              </div>\r\n              <input type=\"file\" accept=\"image/*,video/*\" className=\"hidden\"\r\n               ref={fileInputRef}\r\n               onChange={handleFileChnage}              \r\n              />\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {story?.mediaType === \"image\" ? (\r\n                <img\r\n                  src={story?.mediaUrl}\r\n                  alt={story?.user?.username}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              ) : (\r\n                <video\r\n                  src={story?.mediaUrl}\r\n                  alt={story?.user?.username}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              )}\r\n              <div className=\"absolute top-2 left-2 ring-2 ring-blue-500 rounded-full \">\r\n                <Avatar className=\"w-8 h-8\">\r\n                {story?.user?.profilePicture ? (\r\n                    <AvatarImage\r\n                      src={story?.user?.profilePicture}\r\n                      alt={story?.user?.username}\r\n                    />\r\n                  ) : (\r\n                    <AvatarFallback>{userPlaceholder}</AvatarFallback>\r\n                  )}\r\n                </Avatar>\r\n              </div>\r\n              <div className=\"absolute bottom-2 left-2 right-2\">\r\n                <p className=\"text-white text-xs font-semibold truncate\">{story?.user?.username}</p>\r\n                    \r\n              </div>\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n     {showPreview && (\r\n      <ShowStoryPreview\r\n        file={filePreview}\r\n        fileType={fileType}\r\n        onClose={handleClosePreview}\r\n        onPost= {handleCreateStoryPost}\r\n        isNewStory={isNewStory}\r\n        username = {isNewStory ? user?.username : story?.user?.username}\r\n        avatar = {isNewStory ? user?.profilePicture : story?.user?.profilePicture}\r\n        isLoading={loading}\r\n      \r\n      />\r\n     )}\r\n\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default StoryCard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1270, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1276, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/story/StorySection.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport StoryCard from \"./StoryCard\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport { usePostStore } from \"@/store/usePostStore\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nconst StorySection = () => {\r\n  const [scrollPosition, setScrollPosition] = useState(0);\r\n  const [maxScroll, setMaxScroll] = useState(0);\r\n  const containerRef = useRef();\r\n  const {story,fetchStoryPost} = usePostStore()\r\n\r\n  useEffect(() => {\r\n    fetchStoryPost()\r\n  },[fetchStoryPost])\r\n\r\n\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      const updateMaxScroll = () => {\r\n        setMaxScroll(container.scrollWidth - container.offsetWidth);\r\n        setScrollPosition(container.scrollLeft);\r\n      };\r\n      updateMaxScroll();\r\n      window.addEventListener(\"resize\", updateMaxScroll);\r\n      return () => window.removeEventListener(\"resize\", updateMaxScroll);\r\n    }\r\n  }, [story]);\r\n\r\n  const scroll = (direction) => {\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      const scrollAmount = direction === \"left\" ? -200 : 200;\r\n      container.scrollBy({ left: scrollAmount, behavior: \"smooth\" });\r\n    }\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    const container = containerRef.current;\r\n    if (container) {\r\n      setScrollPosition(container.scrollLeft);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <div\r\n        ref={containerRef}\r\n        onScroll={handleScroll}\r\n        className=\"flex space-x-2 overflow-x-hidden py-4\"\r\n        style={{ scrollbarWidth: \"none\", msOverflowStyle: \"none\" }}\r\n      >\r\n        <motion.div\r\n          className=\" flex space-x-2\"\r\n          drag=\"x\"\r\n          dragConstraints={{\r\n            right: 0,\r\n            left:\r\n              -((story.length + 1) * 200) +\r\n              containerRef.current?.offsetWidth,\r\n          }}\r\n        >\r\n          <StoryCard isAddStory={true} />\r\n          {story?.map((story) => (\r\n            <StoryCard story={story} key={story._id} />\r\n          ))}\r\n        </motion.div>\r\n\r\n        {/* left side scrollbutton  */}\r\n        {scrollPosition > 0 && (\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            className=\"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 roudned-full shadow-lg transition-opacity duration-300 ease-in-out\"\r\n            onClick={() => scroll(\"left\")}\r\n          >\r\n            <ChevronLeft className=\"h-4 w-4\" />\r\n          </Button>\r\n        )}\r\n\r\n        {/* right side scrollbutton  */}\r\n\r\n        {scrollPosition < maxScroll && (\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            className=\"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 roudned-full shadow-lg transition-opacity duration-300 ease-in-out\"\r\n            onClick={() => scroll(\"right\")}\r\n          >\r\n            <ChevronRight className=\"h-4 w-4\" />\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StorySection;\r\n\r\n// import React, { useEffect, useRef, useState } from \"react\";\r\n// import StoryCard from \"./StoryCard\";\r\n// import { usePostStore } from \"@/store/usePostStore\";\r\n\r\n// const StorySection = () => {\r\n//   const { story, fetchStoryPost } = usePostStore();\r\n\r\n//   useEffect(() => {\r\n//     fetchStoryPost();\r\n//   }, [fetchStoryPost]);\r\n\r\n//   return (\r\n//     <div className=\"p-4\">\r\n//       <div className=\"flex flex-col space-y-4\">\r\n//         <StoryCard isAddStory={true} />\r\n//         {story?.map((story) => (\r\n//           <StoryCard story={story} key={story._id} />\r\n//         ))}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default StorySection;\r\n\r\n// import React, { useEffect } from \"react\";\r\n// import StoryCard from \"./StoryCard\";\r\n// import { usePostStore } from \"@/store/usePostStore\";\r\n\r\n// const StorySection = () => {\r\n//   const { story, fetchStoryPost } = usePostStore();\r\n\r\n//   useEffect(() => {\r\n//     fetchStoryPost();\r\n//   }, [fetchStoryPost]);\r\n\r\n//   return (\r\n//     <div className=\"p-4\">\r\n//       <div className=\"flex flex-col space-y-4\">\r\n//         <StoryCard isAddStory={true} />\r\n//         {story?.map((story) => (\r\n//           <StoryCard story={story} key={story._id} />\r\n//         ))}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default StorySection;\r\n\r\n\r\n\r\n// import React, { useEffect } from \"react\";\r\n// import StoryCard from \"./StoryCard\";\r\n// import { usePostStore } from \"@/store/usePostStore\";\r\n\r\n// const StorySection = () => {\r\n//   const { story, fetchStoryPost } = usePostStore();\r\n\r\n//   useEffect(() => {\r\n//     fetchStoryPost();\r\n//   }, [fetchStoryPost]);\r\n\r\n//   return (\r\n//     <div className=\"flex flex-col space-y-4\">\r\n//       <StoryCard isAddStory={true} />\r\n//       {story?.map((story) => (\r\n//         <StoryCard story={story} key={story._id} />\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default StorySection;\r\n\r\n// import React, { useEffect } from \"react\";\r\n// import StoryCard from \"./StoryCard\";\r\n// import { usePostStore } from \"@/store/usePostStore\";\r\n\r\n// const StorySection = () => {\r\n//   const { story, fetchStoryPost } = usePostStore();\r\n\r\n//   useEffect(() => {\r\n//     fetchStoryPost();\r\n//   }, [fetchStoryPost]);\r\n\r\n//   return (\r\n//     <div className=\"flex flex-col space-y-2\">\r\n//       <StoryCard isAddStory={true} />\r\n//       {story?.map((story) => (\r\n//         <StoryCard story={story} key={story._id} />\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default StorySection;\r\n\r\n\r\n// import React, { useEffect } from \"react\";\r\n// import StoryCard from \"./StoryCard\";\r\n// import { usePostStore } from \"@/store/usePostStore\";\r\n\r\n// const StorySection = () => {\r\n//   const { story, fetchStoryPost } = usePostStore();\r\n\r\n//   useEffect(() => {\r\n//     fetchStoryPost();\r\n//   }, [fetchStoryPost]);\r\n\r\n//   return (\r\n//     <div className=\"flex flex-col space-y-2\">\r\n//       <StoryCard isAddStory={true} />\r\n//       {story?.map((story) => (\r\n//         <StoryCard story={story} key={story._id} />\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default StorySection;\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1514, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1520, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/components/ui/dialog.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props} />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}>\r\n      {children}\r\n      <DialogPrimitive.Close\r\n        className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}) => (\r\n  <div\r\n    className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)}\r\n    {...props} />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}) => (\r\n  <div\r\n    className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)}\r\n    {...props} />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\r\n    {...props} />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props} />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogTrigger,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AAIA;AAHA;AACA;AAJA;;;;;;AAQA,MAAM,SAAS,mKAAgB,IAAI;AAEnC,MAAM,gBAAgB,mKAAgB,OAAO;AAE7C,MAAM,eAAe,mKAAgB,MAAM;AAE3C,MAAM,cAAc,mKAAgB,KAAK;AAEzC,MAAM,8BAAgB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC/D,8OAAC,mKAAgB,OAAO;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;;;;;;AAEb,cAAc,WAAW,GAAG,mKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzE,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,mKAAgB,OAAO;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBACR;kCACD,8OAAC,mKAAgB,KAAK;wBACpB,WAAU;;0CACV,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,mKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACJ,iBACC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAEb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACJ,iBACC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iEAAiE;QAC9E,GAAG,KAAK;;;;;;AAEb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC7D,8OAAC,mKAAgB,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,qDAAqD;QAClE,GAAG,KAAK;;;;;;AAEb,YAAY,WAAW,GAAG,mKAAgB,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACnE,8OAAC,mKAAgB,WAAW;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEb,kBAAkB,WAAW,GAAG,mKAAgB,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 1646, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1652, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/components/ui/textarea.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Textarea = React.forwardRef(({ className, ...props }, ref) => {\r\n  return (\r\n    (<textarea\r\n      className={cn(\r\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      ref={ref}\r\n      {...props} />)\r\n  );\r\n})\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1D,qBACG,8OAAC;QACA,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,6QACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAEf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1674, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1680, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/posts/NewPostForm.jsx"],"sourcesContent":["import { Card, CardContent } from \"@/components/ui/card\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTrigger,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ImageIcon, Laugh, Plus, Video, X } from \"lucide-react\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { AnimatePresence } from \"framer-motion\";\r\nimport { motion } from \"framer-motion\";\r\nimport dynamic from \"next/dynamic\";\r\nimport userStore from \"@/store/userStore\";\r\nimport { usePostStore } from \"@/store/usePostStore\";\r\n\r\nconst Picker = dynamic(() => import(\"emoji-picker-react\"), { ssr: false });\r\n\r\nconst NewPostForm = ({ isPostFormOpen, setIsPostFormOpen }) => {\r\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n  const { user } = userStore();\r\n  const [postContent, setPostContent] = useState(\"\");\r\n  const [filePreview, setFilePreview] = useState(null);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [fileType, setFileType] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const { handleCreatePost } = usePostStore();\r\n  const [showImageUpload, setShowImageUpload] = useState(false);\r\n\r\n  const fileInputRef = useRef(null)\r\n\r\n  const userPlaceholder = user?.username\r\n    ?.split(\" \")\r\n    .map((name) => name[0])\r\n    .join(\"\");\r\n\r\n  const handleEmojiClick = (emojiObject) => {\r\n    setPostContent((prev) => prev + emojiObject.emoji);\r\n  };\r\n\r\n  const handleFileChnage = (e) => {\r\n    const file = e.target.files[0];\r\n    setSelectedFile(file), setFileType(file.type);\r\n    setFilePreview(URL.createObjectURL(file));\r\n  };\r\n\r\n  const handlePost = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"content\", postContent);\r\n      if (selectedFile) {\r\n        formData.append(\"media\", selectedFile);\r\n      }\r\n      const result = await handleCreatePost(formData);\r\n      console.log(result);\r\n      setPostContent(\"\");\r\n      setSelectedFile(null);\r\n      setFilePreview(null);\r\n      setIsPostFormOpen(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <Card>\r\n      <CardContent className=\"p-4\">\r\n        <div className=\"flex space-x-4\">\r\n          <Avatar>\r\n            {user?.profilePicture ? (\r\n              <AvatarImage src={user?.profilePicture} alt={user?.username} />\r\n            ) : (\r\n              <AvatarFallback className=\"dark:bg-gray-400\">\r\n                {userPlaceholder}\r\n              </AvatarFallback>\r\n            )}\r\n          </Avatar>\r\n\r\n          {/* <Dialog open={isPostFormOpen} onOpenChange={setIsPostFormOpen}>\r\n            <DialogTrigger className=\"w-full\">\r\n              Wrap content in a non-interactive container\r\n              <div>\r\n                <Input\r\n                  placeholder={`What's on your mind, ${user?.username}`}\r\n                  readOnly\r\n                  className=\"cursor-pointer rounded-full h-12 dark:bg-[rgb(58,59,60)] placeholder:text-gray-500 dark:placeholder:text-gray-400\"\r\n                />\r\n                <Separator className=\"my-2 dark:bg-slate-400\" />\r\n                <div className=\"flex justify-between\">\r\n                  <div className=\"flex items-center justify-center cursor-pointer\">\r\n                    <ImageIcon className=\"h-5 w-5 text-green-500 mr-2\" />\r\n                    <span className=\"dark:text-slate-100\">Photo</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-center cursor-pointer\">\r\n                    <Video className=\"h-5 w-5 text-red-500 mr-2\" />\r\n                    <span className=\"dark:text-slate-100\">Video</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-center cursor-pointer\">\r\n                    <Laugh className=\"h-5 w-5 text-orange-500 mr-2\" />\r\n                    <span className=\"dark:text-slate-100\">Feelings</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"sm:max-w-[525px] max-h-[80vh] overflow-y-auto\">\r\n              <DialogHeader>\r\n                <DialogTitle className=\"text-center\">Create Post</DialogTitle>\r\n              </DialogHeader>\r\n              <Separator />\r\n              <div className=\"flex items-center space-x-3 py-4\">\r\n                <Avatar className=\"h-10 w-10\">\r\n                  {user?.profilePicture ? (\r\n                    <AvatarImage\r\n                      src={user?.profilePicture}\r\n                      alt={user?.username}\r\n                    />\r\n                  ) : (\r\n                    <AvatarFallback>{userPlaceholder}</AvatarFallback>\r\n                  )}\r\n                </Avatar>\r\n                <div>\r\n                  <p className=\"font-semibold\">{user?.username}</p>\r\n                </div>\r\n              </div>\r\n              <Textarea\r\n                placeholder={`What's on your mind? ${user?.username}`}\r\n                className=\"min-h-[100px] text-lg\"\r\n                value={postContent}\r\n                onChange={(e) => setPostContent(e.target.value)}\r\n              />\r\n              <AnimatePresence>\r\n                {(showImageUpload || filePreview) && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, height: 0 }}\r\n                    animate={{ opacity: 1, height: \"auto\" }}\r\n                    exit={{ opacity: 0, height: 0 }}\r\n                    className=\"relative mt-4 border-2 border-dashed border-gray-300 rounded-lg p-8 flex flex-col items-center justify-center\"\r\n                  >\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"absolute top-2 right-2\"\r\n                      onClick={() => {\r\n                        setShowImageUpload(false);\r\n                        setSelectedFile(null);\r\n                        setFilePreview(null);\r\n                      }}\r\n                    >\r\n                      <X className=\"h-4 w-4\" />\r\n                    </Button>\r\n\r\n                    {filePreview ? (\r\n                      fileType.startsWith(\"image\") ? (\r\n                        <img\r\n                          src={filePreview}\r\n                          alt=\"preview_img\"\r\n                          className=\"w-full h-auto max-h-[300px] object-cover\"\r\n                        />\r\n                      ) : (\r\n                        <video\r\n                          controls\r\n                          src={filePreview}\r\n                          className=\"w-full h-auto max-h-[300px] object-cover\"\r\n                        />\r\n                      )\r\n                    ) : (\r\n                      <>\r\n                        <Plus\r\n                          className=\"h-12 w-12 text-gray-400 mb-2 cursor-pointer\"\r\n                          onClick={() => fileInputRef.current.click()}\r\n                        />\r\n                        <p className=\"text-center text-gray-500\">Add Photos/Videos</p>\r\n                      </>\r\n                    )}\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*,video/*\"\r\n                      className=\"hidden\"\r\n                      onChange={handleFileChange}\r\n                      ref={fileInputRef}\r\n                    />\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n\r\n              <div className=\"bg-gray-200 dark:bg-muted p-4 rounded-lg mt-4\">\r\n                <p className=\"font-semibold mb-2\">Add Your Post</p>\r\n\r\n                <div className=\"flex space-x-2\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    onClick={() => setShowImageUpload(!showImageUpload)}\r\n                  >\r\n                    <ImageIcon className=\"h-4 w-4 text-green-500\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    onClick={() => setShowImageUpload(!showImageUpload)}\r\n                  >\r\n                    <Video className=\"h-4 w-4 text-red-500\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    onClick={() => setShowEmojiPicker(!showEmojiPicker)}\r\n                  >\r\n                    <Laugh className=\"h-4 w-4 text-orange-500\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {showEmojiPicker && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: 20 }}\r\n                  className=\"relative\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"absolute top-2 right-2 z-10\"\r\n                    onClick={() => setShowEmojiPicker(false)}\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Picker onEmojiClick={handleEmojiClick} />\r\n                </motion.div>\r\n              )}\r\n              <div className=\"flex justify-end mt-4\">\r\n                <Button\r\n                  className=\"bg-blue-500 text-white\"\r\n                  onClick={handlePost}\r\n                >\r\n                  {loading ? \"Saving...\" : \"Post\"}\r\n                </Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog> */}\r\n\r\n\r\n          <Dialog open={isPostFormOpen} onOpenChange={setIsPostFormOpen}>\r\n            <DialogTrigger className=\"w-full\">\r\n              <Input\r\n                placeholder={`what's on your mind, ${user?.username}`}\r\n                readOnly\r\n                className=\"cursor-pointer rounded-full h-12  dark:bg-[rgb(58,59,60)] placeholder:text-gray-500 dark:placeholder:text-gray-400  \"\r\n              />\r\n              <Separator className=\"my-2 dark:bg-slate-400\" />\r\n              <div className=\"flex justify-between \">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  className=\"flex items-center justify-center\"\r\n                >\r\n                  <ImageIcon className=\"h-5 w-5 text-green-500 mr-2\" />\r\n                  <span className=\"dark:text-slate-100\">Photo</span>\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  className=\"flex items-center justify-center\"\r\n                >\r\n                  <Video className=\"h-5 w-5 text-red-500 mr-2\" />\r\n                  <span className=\"dark:text-slate-100\">Video</span>\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  className=\"flex items-center justify-center\"\r\n                >\r\n                  <Laugh className=\"h-5 w-5 text-orange-500 mr-2\" />\r\n                  <span className=\"dark:text-slate-100\">Feelings</span>\r\n                </Button>\r\n              </div>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"sm:max-w-[525px] max-h-[80vh] overflow-y-auto\">\r\n              <DialogHeader>\r\n                <DialogTitle className=\"text-center\">Create Post</DialogTitle>\r\n              </DialogHeader>\r\n              <Separator />\r\n              <div className=\"flex items-center space-x-3 py-4\">\r\n                <Avatar className=\"h-10 w-10\">\r\n                  {user?.profilePicture ? (\r\n                    <AvatarImage\r\n                      src={user?.profilePicture}\r\n                      alt={user?.username}\r\n                    />\r\n                  ) : (\r\n                    <AvatarFallback>{userPlaceholder}</AvatarFallback>\r\n                  )}\r\n                </Avatar>\r\n                <div>\r\n                  <p className=\"font-semibold\">{user?.username}</p>\r\n                </div>\r\n              </div>\r\n              <Textarea\r\n                placeholder={`what's on your mind? ${user?.username}`}\r\n                className=\"min-h-[100px] text-lg\"\r\n                value={postContent}\r\n                onChange={(e) => setPostContent(e.target.value)}\r\n              />\r\n              <AnimatePresence>\r\n                {(showImageUpload || filePreview) && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, height: 0 }}\r\n                    animate={{ opacity: 1, height: \"auto\" }}\r\n                    exit={{ opacity: 0, height: 0 }}\r\n                    className=\"relative mt-4 border-2 border-dashed  border-gray-300 rounded-lg p-8 flex  flex-col items-center justify-center \"\r\n                  >\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"absolute top-2 right-2\"\r\n                      onClick={() =>{\r\n                        setShowImageUpload(false);\r\n                        setSelectedFile(null);\r\n                        setFilePreview(null);\r\n                      }}\r\n                    >\r\n                      <X className=\"h-4 w-4\" />\r\n                    </Button>\r\n\r\n                    {filePreview ? (\r\n                      fileType.startsWith(\"image\") ? (\r\n                        <img\r\n                        src={filePreview} alt =\"preview_img\" className=\"w-full h-auto max-h-[300px] object-cover\"\r\n                        />\r\n                      ) : (\r\n                        <video controls   src={filePreview}  className=\"w-full h-auto max-h-[300px] object-cover\" />\r\n                      )\r\n                    ) : (\r\n                      <>\r\n                        <Plus className=\"h-12 w-12 text-gray-400 mb-2 cursor-pointer \"  onClick={() => fileInputRef.current.click()}/>\r\n                        <p className=\"text-center  text-gray-500 \">\r\n                          Add Photos/Videos\r\n                        </p>\r\n                      </>\r\n                    )}\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*,video/*\"\r\n                      className=\"hidden\"\r\n                      onChange={handleFileChnage}\r\n                      ref={fileInputRef}\r\n                      \r\n                    />\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n\r\n              <div className=\"bg-gray-200 dark:bg-muted p-4 rounded-lg mt-4 \">\r\n                <p className=\"font-semibold mb-2\">Add Your Post</p>\r\n\r\n                <div className=\"flex space-x-2 \">\r\n                  <Button variant=\"outline\" size=\"icon\" \r\n                   onClick={() => setShowImageUpload(!showImageUpload)}\r\n                  >\r\n                    <ImageIcon className=\"h-4 w-4 text-green-500 \" \r\n                    \r\n                    \r\n                />\r\n                  </Button>\r\n                  <Button variant=\"outline\" size=\"icon\"    onClick={() => setShowImageUpload(!showImageUpload)}>\r\n                    <Video className=\"h-4 w-4 text-red-500 \" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    onClick={() => setShowEmojiPicker(!showEmojiPicker)}\r\n                  >\r\n                    <Laugh className=\"h-4 w-4 text-orange-500 \" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {showEmojiPicker && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: 20 }}\r\n                  className=\"relative\"\r\n                >\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"absolute top-2 right-2 z-10\"\r\n                    onClick={() => setShowEmojiPicker(false)}\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Picker onEmojiClick={handleEmojiClick} />\r\n                </motion.div>\r\n              )}\r\n              <div className=\"flex justify-end mt-4\">\r\n                <Button className=\"bg-blue-500 text-white\"\r\n                 onClick={handlePost}\r\n\r\n                >\r\n\r\n                  {loading ? 'Saving...' : 'Post'}\r\n                </Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default NewPostForm;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2258, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/posts/PostComments.jsx"],"sourcesContent":["import { ChevronDown, ChevronUp, Send } from \"lucide-react\";\r\nimport React, { useState } from \"react\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport userStore from \"@/store/userStore\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { comment } from \"postcss\";\r\nimport { formateDate } from \"@/lib/utils\";\r\n\r\nconst PostComments = ({ post, onComment, commentInputRef }) => {\r\n  const [showAllComments, setShowAllComments] = useState(false);\r\n  const [commentText, setCommentText] = useState(\"\");\r\n  const { user } = userStore();\r\n  const visibleComments = showAllComments\r\n    ? post?.comments\r\n    : post?.comments?.slice(0, 2);\r\n\r\n  const handleCommentSubmit = async () => {\r\n    if (commentText.trim()) {\r\n      onComment({ text: commentText });\r\n      setCommentText(\"\");\r\n    }\r\n  };\r\n\r\n  const userPlaceholder = user?.username\r\n    ?.split(\" \")\r\n    .map((name) => name[0])\r\n    .join(\"\");\r\n  return (\r\n    // comemts section list\r\n    <div className=\"mt-4\">\r\n      <h3 className=\"font-semibold mb-2\">Comments</h3>\r\n      <div className=\"max-h-60 overflow-y-auto pr-2\">\r\n        {visibleComments?.map((comment, index) => (\r\n          <div key={index} className=\"flex items-start space-x-2 mb-2\">\r\n            <Avatar className=\"w-8 h-8\">\r\n              {comment?.user?.profilePicture ? (\r\n                <AvatarImage\r\n                  src={comment?.user?.profilePicture}\r\n                  alt={comment?.user?.username}\r\n                />\r\n              ) : (\r\n                <AvatarFallback className=\"dark:bg-gray-400\">\r\n                  {comment?.user?.username\r\n                    ?.split(\" \")\r\n                    .map((name) => name[0])\r\n                    .join(\" \")}\r\n                </AvatarFallback>\r\n              )}\r\n            </Avatar>\r\n            <div className=\"flex flex-col\">\r\n              <div className=\"rounded-lg p-2\">\r\n                <p className=\"font-bold text-sm\">{comment?.user?.username}</p>\r\n                <p className=\"text-sm\">{comment?.text}</p>\r\n              </div>\r\n              <div className=\"flex items-center mt-1 text-xs text-gray-400\">\r\n                <Button variant=\"ghost\" size=\"sm\">\r\n                  Like\r\n                </Button>\r\n                <Button variant=\"ghost\" size=\"sm\">\r\n                  Reply\r\n                </Button>\r\n                <span>{formateDate(comment.createdAt)}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {post?.comments?.length > 2 && (\r\n          <p\r\n            className=\"w-40 mt-2 text-blue-500 dark:text-gray-300 cursor-pointer\"\r\n            onClick={() => setShowAllComments(!showAllComments)}\r\n          >\r\n            {showAllComments ? (\r\n              <>\r\n                Show Less <ChevronUp className=\"ml-2 h-4 w-4\" />\r\n              </>\r\n            ) : (\r\n              <>\r\n                Show All Comments <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n              </>\r\n            )}\r\n          </p>\r\n        )}\r\n      </div>\r\n      <div className=\"flex items-center space-x-2 mt-4\">\r\n        <Avatar className=\"w-8 h-8\">\r\n          {user?.profilePicture ? (\r\n            <AvatarImage src={user?.profilePicture} alt={user?.username} />\r\n          ) : (\r\n            <AvatarFallback className=\"dark:bg-gray-400\">{userPlaceholder}</AvatarFallback>\r\n          )}\r\n        </Avatar>\r\n        <Input\r\n        value= {commentText}\r\n        ref={commentInputRef}\r\n        onChange={(e) => setCommentText(e.target.value)}\r\n        onKeyDown= {(e) => e.key === 'Enter' && handleCommentSubmit()}\r\n          placeholder=\"Write a comment...\"\r\n          className=\"flex-grow cursor-pointer rounded-full h-12 dark:bg-[rgb(58,59,60)] \"\r\n        />\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"hover:bg-transparent\"\r\n         onClick={handleCommentSubmit}\r\n        >\r\n          <Send className=\"h-5 w-5 text-blue-500\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostComments;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2518, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2525, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/posts/PostCard.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { MessageCircle, MoreHorizontal, Share2, ThumbsUp } from \"lucide-react\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\nimport PostComments from \"./PostComments\";\r\nimport { formateDate } from \"@/lib/utils\";\r\n\r\nconst PostCard = ({ post, isLiked, onShare, onComment, onLike }) => {\r\n  const [isShareDialogOpen, setIsShareDialogOpen] = useState(false);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const commentInputRef = useRef(null)\r\n\r\n  const handleCommentClick = () =>{\r\n    setShowComments(true);\r\n    setTimeout(() =>{\r\n      commentInputRef?.current?.focus();\r\n    },0)\r\n  }\r\n  const userPostPlaceholder = post?.user?.username\r\n    ?.split(\" \")\r\n    .map((name) => name[0])\r\n    .join(\"\");\r\n\r\n  const generateSharedLink = () => {\r\n    return `http://localhost:3000/${post?.id}`;\r\n  };\r\n  const handleShare = (platform) => {\r\n    const url = generateSharedLink();\r\n    let shareUrl;\r\n    switch (platform) {\r\n      case \"facebook\":\r\n        shareUrl = `https://www.facebook.com/sharer/sharer.php?u=}`;\r\n        break;\r\n      case \"twitter\":\r\n        shareUrl = `https://twitter.com/intent/tweet?url=}`;\r\n        break;\r\n      case \"linkedin\":\r\n        shareUrl = `https://www.linkedin.com/shareArticle?mini=true&url=}`;\r\n        break;\r\n      case \"copy\":\r\n        navigator.clipboard.writeText(url);\r\n        setIsShareDialogOpen(false);\r\n        return;\r\n      default:\r\n        return;\r\n    }\r\n    window.open(shareUrl, \"_blank\");\r\n    setIsShareDialogOpen(false);\r\n  };\r\n  return (\r\n    // <motion.div\r\n    //   key={post?._id}\r\n    //   initial={{ opacity: 0, y: 20 }}\r\n    //   animate={{ opacity: 1, y: 0 }}\r\n    //   transition={{ duration: 0.5 }}\r\n    // >\r\n    //   <Card>\r\n    //     <CardContent className=\"p-6 bg-pink-50 dark:bg-zinc-800  dark:text-white\">\r\n    //       <div className=\"flex items-center justify-between mb-4\">\r\n    //         <div\r\n    //           className=\"flex items-center space-x-3 cursor-pointer\"\r\n\r\n    //         >\r\n    //           <Avatar>\r\n    //             {post?.user?.profilePicture ? (\r\n    //                              <AvatarImage\r\n    //                              src={post?.user?.profilePicture}\r\n    //                              alt={post?.user?.username}\r\n    //                              />\r\n    //             ):(\r\n    //               <AvatarFallback className=\"dark:bg-gray-400\">{userPostPlaceholder}</AvatarFallback>\r\n    //             )}\r\n    \r\n              \r\n  \r\n    //           </Avatar>\r\n    //           <div>\r\n    //             <p className=\"font-semibold dark:text-white\">\r\n    //               {post?.user?.username}\r\n    //             </p>\r\n    //             <p className=\"font-sm text-gray-500\">\r\n    //               {formateDate(post?.createdAt)}\r\n    //             </p>\r\n    //           </div>\r\n    //         </div>\r\n    //         <Button variant=\"ghost\" className=\"dark:hover:bg-gray-500\">\r\n    //           <MoreHorizontal className=\"dark:text-white h-4 w-4\" />\r\n    //         </Button>\r\n    //       </div>\r\n    //       <p className=\"mb-4\">{post?.content}</p>\r\n    //       {post?.mediaUrl && post.mediaType === \"image\" && (\r\n    //         <img\r\n    //           src={post?.mediaUrl}\r\n    //           alt=\"post_image\"\r\n    //           className=\"w-full h-auto rounded-lg mb-4\"\r\n    //         />\r\n    //       )}\r\n    //       {post?.mediaUrl && post.mediaType === \"video\" && (\r\n    //         <video controls className=\"w-full h-[500px] rounded-lg mb-4\">\r\n    //           <source src={post?.mediaUrl} type=\"video/mp4\" />\r\n    //           Your browser does not support the video tag\r\n    //         </video>\r\n    //       )}\r\n    //       <div className=\"flex justify-between items-center mb-4\">\r\n    //         <span className=\"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer \">\r\n    //           {post?.likeCount} likes\r\n    //         </span>\r\n    //         <div className=\"flex gap-3\">\r\n    //           <span\r\n    //             className=\"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer \"\r\n    //           onClick={() => setShowComments(!showComments)}\r\n    //           >\r\n    //                 {post?.commentCount} comments\r\n    //           </span>\r\n    //           <span className=\"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer \">\r\n    //           {post?.shareCount} share\r\n    //           </span>\r\n    //         </div>\r\n    //       </div>\r\n    //       <Separator className=\"mb-2 dark:bg-gray-400\" />\r\n    //       <div className=\"flex justify-between mb-2\">\r\n    //         <Button\r\n    //           variant=\"ghost\"\r\n    //           className={`flex-1 dark:hover:bg-gray-600 ${isLiked ? \"text-blue-600\" :\"\"}`}\r\n    //           onClick={onLike}\r\n    //         >\r\n    //           <ThumbsUp className=\"mr-2 h-4 w-4\" /> Like\r\n    //         </Button>\r\n    //         <Button\r\n    //           variant=\"ghost\"\r\n    //           className={`flex-1 dark:hover:bg-gray-600 `}\r\n    //           onClick={handleCommentClick}\r\n    //         >\r\n    //           <MessageCircle className=\"mr-2 h-4 w-4\" /> Comment\r\n    //         </Button>\r\n    //         <Dialog\r\n    //           open={isShareDialogOpen}\r\n    //           onOpenChange={setIsShareDialogOpen}\r\n    //         >\r\n    //           <DialogTrigger asChild>\r\n    //             <Button\r\n    //               variant=\"ghost\"\r\n    //               className=\"flex-1 dark:hover:bg-gray-500\"\r\n    //             onClick={onShare}\r\n    //             >\r\n    //               <Share2 className=\"mr-2 h-4 w-4\" />\r\n    //               share\r\n    //             </Button>\r\n    //           </DialogTrigger>\r\n    //           <DialogContent>\r\n    //             <DialogHeader>\r\n    //               <DialogTitle>Share This Post</DialogTitle>\r\n    //               <DialogDescription>\r\n    //                 Choose how you want to share this post\r\n    //               </DialogDescription>\r\n    //             </DialogHeader>\r\n    //             <div className=\"flex flex-col space-y-4 \">\r\n    //               <Button onClick={() => handleShare(\"facebook\")}>\r\n    //                 Share on Facebook\r\n    //               </Button>\r\n    //               <Button onClick={() => handleShare(\"twitter\")}>\r\n    //                 Share on Twitter\r\n    //               </Button>\r\n    //               <Button onClick={() => handleShare(\"linkedin\")}>\r\n    //                 Share on Linkedin\r\n    //               </Button>\r\n    //               <Button onClick={() => handleShare(\"copy\")}>Copy Link</Button>\r\n    //             </div>\r\n    //           </DialogContent>\r\n    //         </Dialog>\r\n    //       </div>\r\n    //       <Separator className=\"mb-2 dark:bg-gray-400\" />\r\n    //       <AnimatePresence>\r\n    //         {showComments && (\r\n    //           <motion.div\r\n    //             initial={{ opacity: 0, height: 0 }}\r\n    //             animate={{ opacity: 1, height: \"auto\" }}\r\n    //             exit={{ opacity: 0, height: 0 }}\r\n    //             transition={{ duration: 0.3 }}\r\n    //           >\r\n    //             <PostComments\r\n    //               post={post}\r\n    //               onComment={onComment}\r\n    //               commentInputRef={commentInputRef}\r\n    //             />\r\n    //           </motion.div>\r\n    //         )}\r\n    //       </AnimatePresence>\r\n    //     </CardContent>\r\n    //   </Card>\r\n    // </motion.div>\r\n    <motion.div\r\n  key={post?._id}\r\n  initial={{ opacity: 0, y: 20 }}\r\n  animate={{ opacity: 1, y: 0 }}\r\n  transition={{ duration: 0.5 }}\r\n>\r\n  <Card className=\"rounded-lg overflow-hidden\">\r\n    <CardContent className=\"p-6 bg-pink-50 dark:bg-zinc-900 dark:text-white rounded-lg\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center space-x-3 cursor-pointer\">\r\n          <Avatar>\r\n            {post?.user?.profilePicture ? (\r\n              <AvatarImage src={post?.user?.profilePicture} alt={post?.user?.username} />\r\n            ) : (\r\n              <AvatarFallback className=\"dark:bg-gray-400\">{userPostPlaceholder}</AvatarFallback>\r\n            )}\r\n          </Avatar>\r\n          <div>\r\n            <p className=\"font-semibold dark:text-white\">{post?.user?.username}</p>\r\n            <p className=\"font-sm text-gray-500\">{formateDate(post?.createdAt)}</p>\r\n          </div>\r\n        </div>\r\n        <Button variant=\"ghost\" className=\"dark:hover:bg-gray-500\">\r\n          <MoreHorizontal className=\"dark:text-white h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n      <p className=\"mb-4\">{post?.content}</p>\r\n      {post?.mediaUrl && post.mediaType === \"image\" && (\r\n        <img\r\n          src={post?.mediaUrl}\r\n          alt=\"post_image\"\r\n          className=\"w-full h-auto rounded-lg mb-4\"\r\n        />\r\n      )}\r\n      {post?.mediaUrl && post.mediaType === \"video\" && (\r\n        <video controls className=\"w-full h-[500px] rounded-lg mb-4\">\r\n          <source src={post?.mediaUrl} type=\"video/mp4\" />\r\n          Your browser does not support the video tag\r\n        </video>\r\n      )}\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <span className=\"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer \">\r\n          {post?.likeCount} likes\r\n        </span>\r\n        <div className=\"flex gap-3\">\r\n          <span\r\n            className=\"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer \"\r\n            onClick={() => setShowComments(!showComments)}\r\n          >\r\n            {post?.commentCount} comments\r\n          </span>\r\n          <span className=\"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer \">\r\n            {post?.shareCount} share\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <Separator className=\"mb-2 dark:bg-gray-400\" />\r\n      <div className=\"flex justify-between mb-2\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          className={`flex-1 dark:hover:bg-gray-600 ${isLiked ? \"text-blue-600\" : \"\"}`}\r\n          onClick={onLike}\r\n        >\r\n          <ThumbsUp className=\"mr-2 h-4 w-4\" /> Like\r\n        </Button>\r\n        <Button\r\n          variant=\"ghost\"\r\n          className=\"flex-1 dark:hover:bg-gray-600\"\r\n          onClick={handleCommentClick}\r\n        >\r\n          <MessageCircle className=\"mr-2 h-4 w-4\" /> Comment\r\n        </Button>\r\n        <Dialog open={isShareDialogOpen} onOpenChange={setIsShareDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button\r\n              variant=\"ghost\"\r\n              className=\"flex-1 dark:hover:bg-gray-500\"\r\n              onClick={onShare}\r\n            >\r\n              <Share2 className=\"mr-2 h-4 w-4\" />\r\n              Share\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle>Share This Post</DialogTitle>\r\n              <DialogDescription>Choose how you want to share this post</DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"flex flex-col space-y-4\">\r\n              <Button onClick={() => handleShare(\"facebook\")}>Share on Facebook</Button>\r\n              <Button onClick={() => handleShare(\"twitter\")}>Share on Twitter</Button>\r\n              <Button onClick={() => handleShare(\"linkedin\")}>Share on LinkedIn</Button>\r\n              <Button onClick={() => handleShare(\"copy\")}>Copy Link</Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n      <Separator className=\"mb-2 dark:bg-gray-400\" />\r\n      <AnimatePresence>\r\n        {showComments && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: \"auto\" }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <PostComments post={post} onComment={onComment} commentInputRef={commentInputRef} />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </CardContent>\r\n  </Card>\r\n</motion.div>\r\n\r\n  );\r\n};\r\n\r\nexport default PostCard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3137, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3144, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimali/Downloads/SocialSphere-1/SocialSphere/frontend/src/app/Homepage/page.js"],"sourcesContent":["\"use client\"\r\nimport React, { useEffect, useState } from \"react\";\r\nimport LeftSideBar from \"../components/LeftSideBar\";\r\nimport RightSideBar from \"../components/RightSideBar\";\r\nimport StorySection from \"@/app/story/StorySection\";\r\nimport NewPostForm from \"../posts/NewPostForm\";\r\nimport PostCard from \"../posts/PostCard\";\r\nimport { usePostStore } from \"@/store/usePostStore\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst HomePage = () => {\r\n  const [isPostFormOpen, setIsPostFormOpen] = useState(false);\r\n  const [likePosts,setLikePosts] = useState(new Set());\r\n  const {posts,fetchPost,handleLikePost,handleCommentPost,handleSharePost} = usePostStore();\r\n\r\n  useEffect(() =>{\r\n    fetchPost()\r\n  },[fetchPost])\r\n\r\n  useEffect(() =>{\r\n    const saveLikes = localStorage.getItem('likePosts');\r\n    if(saveLikes){\r\n      setLikePosts(new Set(JSON.parse(saveLikes)));\r\n    }\r\n  },[]);\r\n\r\n\r\n  const handleLike = async(postId)=>{\r\n    const updatedLikePost = new Set(likePosts);\r\n    if(updatedLikePost.has(postId)){\r\n      updatedLikePost.delete(postId);\r\n      toast.error('post disliked successfully')\r\n    }else {\r\n      updatedLikePost.add(postId)\r\n      toast.success('post like successfully')\r\n    }\r\n    setLikePosts(updatedLikePost);\r\n    localStorage.setItem('likePosts',JSON.stringify(Array.from(updatedLikePost)))\r\n\r\n    try {\r\n      await handleLikePost(postId);\r\n      await fetchPost();\r\n    } catch (error) {\r\n       console.error(error);\r\n       toast.error('failed to like or unlike the post')\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-background text-foreground\">\r\n      <main className=\"flex flex-1 pt-16\">\r\n        <LeftSideBar />\r\n        <div className=\"flex-1 px-4 py-6 md:ml-64 lg:mr-64 lg:max-w-3xl xl:max-w-4xl mx-auto\">\r\n          <div className=\"lg:ml-2 xl:ml-28\">\r\n            <StorySection />\r\n            <NewPostForm\r\n            \r\n              isPostFormOpen={isPostFormOpen}\r\n              setIsPostFormOpen={setIsPostFormOpen}\r\n            />\r\n            <div className=\"mt-6 space-y-6 mb-4\">\r\n              {posts.map((post) => (\r\n                <PostCard key={post._id} \r\n                  post={post}\r\n                  isLiked = {likePosts.has(post?._id)}\r\n                  onLike={() => handleLike(post?._id)}\r\n                  onComment={async(comment) => {\r\n                    await handleCommentPost(post?._id,comment.text);\r\n                    await fetchPost();\r\n                  }}\r\n                  onShare = {async() =>{\r\n                  await handleSharePost(post?._id)\r\n                  await fetchPost();\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"hidden lg:block lg:w-64 xl:w-80 fixed right-0 top-16 bottom-0 overflow-y-auto p-4\">\r\n          <RightSideBar />\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AARA;;;;;;;;;;AAUA,MAAM,WAAW;IACf,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,WAAU,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAI;IAC9C,MAAM,EAAC,KAAK,EAAC,SAAS,EAAC,cAAc,EAAC,iBAAiB,EAAC,eAAe,EAAC,GAAG,CAAA,GAAA,4HAAA,CAAA,eAAY,AAAD;IAEtF,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAE;QAAC;KAAU;IAEb,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAG,WAAU;YACX,aAAa,IAAI,IAAI,KAAK,KAAK,CAAC;QAClC;IACF,GAAE,EAAE;IAGJ,MAAM,aAAa,OAAM;QACvB,MAAM,kBAAkB,IAAI,IAAI;QAChC,IAAG,gBAAgB,GAAG,CAAC,SAAQ;YAC7B,gBAAgB,MAAM,CAAC;YACvB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd,OAAM;YACJ,gBAAgB,GAAG,CAAC;YACpB,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;QAChB;QACA,aAAa;QACb,aAAa,OAAO,CAAC,aAAY,KAAK,SAAS,CAAC,MAAM,IAAI,CAAC;QAE3D,IAAI;YACF,MAAM,eAAe;YACrB,MAAM;QACR,EAAE,OAAO,OAAO;YACb,QAAQ,KAAK,CAAC;YACd,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACf;IACF;IAGA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAK,WAAU;;8BACd,8OAAC,wIAAA,CAAA,UAAW;;;;;8BACZ,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oIAAA,CAAA,UAAY;;;;;0CACb,8OAAC,mIAAA,CAAA,UAAW;gCAEV,gBAAgB;gCAChB,mBAAmB;;;;;;0CAErB,8OAAC;gCAAI,WAAU;0CACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,gIAAA,CAAA,UAAQ;wCACP,MAAM;wCACN,SAAW,UAAU,GAAG,CAAC,MAAM;wCAC/B,QAAQ,IAAM,WAAW,MAAM;wCAC/B,WAAW,OAAM;4CACf,MAAM,kBAAkB,MAAM,KAAI,QAAQ,IAAI;4CAC9C,MAAM;wCACR;wCACA,SAAW;4CACX,MAAM,gBAAgB,MAAM;4CAC5B,MAAM;wCACN;uCAXa,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;8BAkB/B,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,yIAAA,CAAA,UAAY;;;;;;;;;;;;;;;;;;;;;AAKvB;uCAEe"}},
    {"offset": {"line": 3292, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}